{"ast":null,"code":"import { takeEvery, fork, put, all, call } from 'redux-saga/effects'; // Login Redux States\n\nimport { FORGET_USER } from './actionTypes';\nimport { forgetUserSuccessful, userForgetPasswordError } from './actions'; // AUTH related methods\n\nimport { postForgetPwd } from '../../../helpers/fackBackend_Helper';\nimport { getFirebaseBackend } from \"../../../helpers/firebase_helper\"; //Initilize firebase\n\nconst fireBaseBackend = getFirebaseBackend(); //If user is login then dispatch redux action's are directly from here.\n\nfunction* forgetUser({\n  payload: {\n    user,\n    history\n  }\n}) {\n  try {\n    if (process.env.REACT_APP_DEFAULTAUTH === \"firebase\") {\n      const response = yield call(fireBaseBackend.forgetPassword, user.useremail);\n\n      if (response) {\n        yield put(forgetUserSuccessful(\"Reset link are sended to your mailbox, check there first\"));\n      }\n    } else {\n      const response = yield call(postForgetPwd, '/forget-pwd', {\n        email: user.useremail\n      });\n\n      if (response) {\n        yield put(forgetUserSuccessful(\"Reset link are sended to your mailbox, check there first\"));\n      }\n    }\n  } catch (error) {\n    yield put(userForgetPasswordError(error));\n  }\n}\n\nexport function* watchUserForget() {\n  yield takeEvery(FORGET_USER, forgetUser);\n}\n\nfunction* forgetSaga() {\n  yield all([fork(watchUserForget)]);\n}\n\nexport default forgetSaga;","map":{"version":3,"sources":["/Users/tanmaymoharana/Documents/projects/industrial/dashboard/src/store/auth/forgetpwd/saga.js"],"names":["takeEvery","fork","put","all","call","FORGET_USER","forgetUserSuccessful","userForgetPasswordError","postForgetPwd","getFirebaseBackend","fireBaseBackend","forgetUser","payload","user","history","process","env","REACT_APP_DEFAULTAUTH","response","forgetPassword","useremail","email","error","watchUserForget","forgetSaga"],"mappings":"AAAA,SAASA,SAAT,EAAoBC,IAApB,EAA0BC,GAA1B,EAA+BC,GAA/B,EAAoCC,IAApC,QAAgD,oBAAhD,C,CAEA;;AACA,SAASC,WAAT,QAA4B,eAA5B;AACA,SAASC,oBAAT,EAA+BC,uBAA/B,QAA8D,WAA9D,C,CAEA;;AACA,SAASC,aAAT,QAA8B,qCAA9B;AACA,SAASC,kBAAT,QAAmC,kCAAnC,C,CAEA;;AACA,MAAMC,eAAe,GAAGD,kBAAkB,EAA1C,C,CAEA;;AACA,UAAUE,UAAV,CAAqB;AAAEC,EAAAA,OAAO,EAAE;AAAEC,IAAAA,IAAF;AAAQC,IAAAA;AAAR;AAAX,CAArB,EAAqD;AAC7C,MAAI;AACA,QAAGC,OAAO,CAACC,GAAR,CAAYC,qBAAZ,KAAsC,UAAzC,EAAoD;AAChD,YAAMC,QAAQ,GAAG,MAAMd,IAAI,CAACM,eAAe,CAACS,cAAjB,EAAiCN,IAAI,CAACO,SAAtC,CAA3B;;AACA,UAAIF,QAAJ,EAAc;AACZ,cAAMhB,GAAG,CACPI,oBAAoB,CAClB,0DADkB,CADb,CAAT;AAKD;AACJ,KATD,MASK;AACD,YAAMY,QAAQ,GAAG,MAAMd,IAAI,CAACI,aAAD,EAAgB,aAAhB,EAA+B;AAACa,QAAAA,KAAK,EAAER,IAAI,CAACO;AAAb,OAA/B,CAA3B;;AACA,UAAIF,QAAJ,EAAc;AACV,cAAMhB,GAAG,CACLI,oBAAoB,CACpB,0DADoB,CADf,CAAT;AAKH;AACJ;AACJ,GApBD,CAoBE,OAAOgB,KAAP,EAAc;AACZ,UAAMpB,GAAG,CAACK,uBAAuB,CAACe,KAAD,CAAxB,CAAT;AACH;AACR;;AAED,OAAO,UAAUC,eAAV,GAA4B;AAC/B,QAAMvB,SAAS,CAACK,WAAD,EAAcM,UAAd,CAAf;AACH;;AAED,UAAUa,UAAV,GAAuB;AACnB,QAAMrB,GAAG,CAAC,CAACF,IAAI,CAACsB,eAAD,CAAL,CAAD,CAAT;AACH;;AAED,eAAeC,UAAf","sourcesContent":["import { takeEvery, fork, put, all, call } from 'redux-saga/effects';\r\n\r\n// Login Redux States\r\nimport { FORGET_USER } from './actionTypes';\r\nimport { forgetUserSuccessful, userForgetPasswordError } from './actions';\r\n\r\n// AUTH related methods\r\nimport { postForgetPwd } from '../../../helpers/fackBackend_Helper';\r\nimport { getFirebaseBackend } from \"../../../helpers/firebase_helper\";\r\n\r\n//Initilize firebase\r\nconst fireBaseBackend = getFirebaseBackend();\r\n\r\n//If user is login then dispatch redux action's are directly from here.\r\nfunction* forgetUser({ payload: { user, history } }) {\r\n        try {\r\n            if(process.env.REACT_APP_DEFAULTAUTH === \"firebase\"){\r\n                const response = yield call(fireBaseBackend.forgetPassword, user.useremail);\r\n                if (response) {\r\n                  yield put(\r\n                    forgetUserSuccessful(\r\n                      \"Reset link are sended to your mailbox, check there first\"\r\n                    )\r\n                  );\r\n                }\r\n            }else{\r\n                const response = yield call(postForgetPwd, '/forget-pwd', {email: user.useremail});\r\n                if (response) {\r\n                    yield put(\r\n                        forgetUserSuccessful(\r\n                        \"Reset link are sended to your mailbox, check there first\"\r\n                      )\r\n                    );\r\n                }\r\n            }            \r\n        } catch (error) {\r\n            yield put(userForgetPasswordError(error));\r\n        }\r\n}\r\n\r\nexport function* watchUserForget() {\r\n    yield takeEvery(FORGET_USER, forgetUser)\r\n}\r\n\r\nfunction* forgetSaga() {\r\n    yield all([fork(watchUserForget)]);\r\n}\r\n\r\nexport default forgetSaga;"]},"metadata":{},"sourceType":"module"}